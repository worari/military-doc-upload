<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>Dashboard ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢
      document.getElementById('searchInput').addEventListener('keyup', function () {
        const filter = this.value.toLowerCase();
        const rows = document.querySelectorAll('tbody tr');
        rows.forEach(row => {
          const text = row.textContent.toLowerCase();
          row.style.display = text.includes(filter) ? '' : 'none';
        });
      });
    });
  </script>
</head>
<body class="p-4">
  <h2>üìã Dashboard ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</h2>

  <!-- ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢ -->
  <div class="row mb-3">
    <div class="col-md-6">
      <input type="text" id="searchInput" class="form-control" placeholder="üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢...">
    </div>
  </div>

  <table class="table table-bordered table-striped">
    <thead class="table-dark">
      <tr>
        <th>‡∏ä‡∏∑‡πà‡∏≠</th>
        <th>‡∏´‡∏ô‡πà‡∏ß‡∏¢</th>
        <th>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
        <th>‡∏™‡∏î.3</th>
        <th>‡∏™‡∏î.8</th>
        <th>‡∏ó‡∏ö.100</th>
        <th>‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏≠‡∏∑‡πà‡∏ô‡πÜ</th>
        <th>‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</th>
        <th>‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</th>
      </tr>
    </thead>
    <tbody>
      {% if officers %}
        {% for o in officers %}
        <tr class="{% if '‡∏™‡∏î.3' in o.docs and '‡∏™‡∏î.8' in o.docs and '‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£' in o.docs %}table-success{% else %}table-warning{% endif %}">
          <td>{{ o.first_name }} {{ o.last_name }}</td>
          <td>{{ o.origin_unit }}</td>
          <td>{{ o.gov_type }}</td>
          <td>
            {% if '‡∏™‡∏î.3' in o.docs %}
              ‚úÖ
            {% else %}
              ‚ùå
            {% endif %}
          </td>
          <td>
            {% if '‡∏™‡∏î.8' in o.docs %}
              ‚úÖ
            {% else %}
              ‚ùå
            {% endif %}
          </td>
          <td>
            {% if '‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£' in o.docs %}
              ‚úÖ
            {% else %}
              ‚ùå
            {% endif %}
          </td>
          <td>{{ o.other_docs|length }}</td>
          <td>{{ o.last_updated.strftime('%d/%m/%Y') if o.last_updated else '-' }}</td>
          <td><a href="/officer/{{ o.id }}" class="btn btn-sm btn-info">üîç</a></td>
        </tr>
        {% endfor %}
      {% else %}
        <tr><td colspan="9" class="text-center text-muted">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</td></tr>
      {% endif %}
    </tbody>
  </table>
</body>
</html>
